graph TB
    OrderController["OrderController<br/>Recibe pedidos"]
    
    OrderProcessor["OrderProcessor<br/>Valida y procesa"]
    
    NotifFactory["NotificationFactory<br/>Factory Pattern<br/>Crea notificadores"]
    
    NotifManager["NotificationManager<br/>Coordina envíos"]
    
    INotifier["INotificationStrategy<br/>Interface - DIP<br/>Strategy Pattern"]
    
    EmailNotifier["EmailNotifier<br/>SRP<br/>Envío de emails"]
    
    SMSNotifier["SMSNotifier<br/>SRP<br/>Envío de SMS"]
    
    PushNotifier["PushNotifier<br/>SRP<br/>Envío de Push"]
    
    MessageBuilder["MessageBuilder<br/>Builder Pattern<br/>Construye mensajes"]
    
    Order["Order<br/>Value Object<br/>Datos del pedido"]
    
    Customer["Customer<br/>Value Object<br/>Datos del cliente"]
    
    Notification["Notification<br/>Entity<br/>Notificación enviada"]
    
    NotifRepo["NotificationRepository<br/>SRP<br/>Almacena historial"]
    
    DB[("Historial")]
    
    OrderController -->|crea| Order
    OrderController -->|valida| OrderProcessor
    OrderProcessor -->|solicita| NotifManager
    
    NotifManager -->|usa| NotifFactory
    NotifFactory -->|crea| EmailNotifier
    NotifFactory -->|crea| SMSNotifier
    NotifFactory -->|crea| PushNotifier
    
    EmailNotifier -.->|implementa| INotifier
    SMSNotifier -.->|implementa| INotifier
    PushNotifier -.->|implementa| INotifier
    
    NotifManager -->|usa| MessageBuilder
    MessageBuilder -->|construye para| Order
    MessageBuilder -->|personaliza para| Customer
    
    NotifManager -->|crea| Notification
    NotifManager -->|guarda en| NotifRepo
    NotifRepo -->|persiste| DB
    
    style OrderController fill:#4A90E2,stroke:#2E5C8A,color:#fff
    style OrderProcessor fill:#4A90E2,stroke:#2E5C8A,color:#fff
    style NotifManager fill:#4A90E2,stroke:#2E5C8A,color:#fff
    style NotifFactory fill:#4A90E2,stroke:#2E5C8A,color:#fff
    
    style INotifier fill:#F5A623,stroke:#C17D11,color:#000
    
    style EmailNotifier fill:#7ED321,stroke:#5FA319,color:#000
    style SMSNotifier fill:#7ED321,stroke:#5FA319,color:#000
    style PushNotifier fill:#7ED321,stroke:#5FA319,color:#000
    
    style MessageBuilder fill:#50E3C2,stroke:#3AB09E,color:#000
    
    style Order fill:#BD10E0,stroke:#9012AB,color:#fff
    style Customer fill:#BD10E0,stroke:#9012AB,color:#fff
    style Notification fill:#BD10E0,stroke:#9012AB,color:#fff
    
    style NotifRepo fill:#F8E71C,stroke:#C4B516,color:#000
    style DB fill:#D0021B,stroke:#A00116,color:#fff